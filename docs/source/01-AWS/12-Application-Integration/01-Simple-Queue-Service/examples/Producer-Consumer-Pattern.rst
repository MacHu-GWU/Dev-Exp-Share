
我们以 Facebook 的头像图片上传应用为例进行讨论. 用户经常要上传头像图片, 并用前端工具选择区域, 那么系统就要自动对头像图片进行剪裁, 生成最终的头像文件, 并且还要生成一份小的头像缩略小图, 用在回复和评论中, 以减小带宽需求.

Producer, 生产者, 产生消息的单元, 一个生产者同一时间只能生产一个(或一批)消息, 前一个消息生产完成之前无法生产下一个消息. 在这里一台服务器就是一个生产者. 我们不能说一个服务器集群是一个生产者, 因为集群中有多台电脑同时生产着消息. Consumer 同理.

下面我们用 One (Producer) - to - Many (Consumer) 来表示 单生产者, 多消费者 的模型.

Many to Many

多个服务器用于服务网站 App, 多个 Lambda Function 用于图像剪裁转码.

Many to Single