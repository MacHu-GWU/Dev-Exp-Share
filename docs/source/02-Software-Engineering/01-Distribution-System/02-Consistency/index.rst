.. _dist-sys-consistency:

Consistency (一致性)
==============================================================================

本章讨论为了实现一致性, 通常由那些解决方案.

首先要明白, 一致性有多个不同级别. 简单来说有两种:

- 强一致
- 最终一致

.. contents:: Table of Content
    :depth: 2
    :local:


Strong Consistency (强一致)
------------------------------------------------------------------------------

我们来讨论两种场景:

- 银行 A 要求向银行 B 转账 $100, 两个银行的数据库系统记录必须要同时完成或者同时失败.
- 用户在某银行中要求从 账户 A 向 账户 B 转账 $100, 两条记录保存在同一个数据库的同一个表中.


Two Phase Commit (两段提交)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Reference:

- 正确理解二阶段提交 (Two-Phase Commit): https://blog.csdn.net/lengxiao1993/article/details/88290514


Eventual Consistency 弱一致
------------------------------------------------------------------------------
